# What's For Lunch 🍽️

一个智能的午餐选择应用，帮助你解决"今天吃什么"的难题！

## ✨ 功能特性

### 🏪 餐厅数据源
- **附近餐厅**: 基于高德地图API获取当前位置附近的餐厅
- **SAP餐厅**: 内置SAP Digital Meal Service餐厅数据
- **智能筛选**: 自动过滤咖啡店、奶茶店等非午餐选项

### 🎯 筛选功能
- **附近餐厅**: 基于地理位置的实时餐厅推荐
- **全部餐厅**: 显示所有SAP餐厅（排除饮品和甜品）
- **供应商筛选**: 按SAP Digital Meal Service筛选
- **地址筛选**: 按地址关键词筛选
- **分类筛选**: 按餐厅类型筛选
- **饮品甜品**: 专门显示饮品和甜品选项
- **SAP专属**: 仅显示SAP供应商餐厅

### 🎲 随机选择
- **动态滚动**: 餐厅名称快速切换效果
- **彩色动画**: 随机颜色变化增强视觉效果
- **礼花庆祝**: 选择完成后触发礼花动画效果
- **动画序列**: 先爆炸礼花，再食物emoji掉落
- **历史记录**: 保存最近5次选择结果
- **一键导航**: 集成高德地图、百度地图、腾讯地图导航
- **移动端优化**: 底部弹出选择器，符合原生应用体验

### 📊 智能日志
- **详细数据**: 完整显示API返回的餐厅信息
- **类型分析**: 统计不同餐厅类型的分布
- **筛选建议**: 提供基于关键词的筛选逻辑
- **对比分析**: 显示筛选前后的餐厅数量

## 🚀 快速开始

### 运行方式

#### 方法1: 直接打开（简单）
```bash
# 直接双击 index.html 文件在浏览器中打开
```

#### 方法2: 本地服务器（推荐）
```bash
# 使用Python启动本地服务器
python3 -m http.server 8000

# 或使用Node.js
npx http-server

# 然后在浏览器中访问 http://localhost:8000
```

### 使用步骤
1. 打开应用后，选择筛选条件
2. 点击"开始选择"按钮
3. 等待随机选择结果
4. 点击地址按钮，选择地图应用进行导航
5. 查看历史记录

## 🛠️ 技术栈

- **前端**: HTML5, CSS3, JavaScript (ES6+)
- **地图API**: 高德地图开放平台
- **导航集成**: 高德地图、百度地图、腾讯地图
- **地理位置**: HTML5 Geolocation API
- **数据存储**: 本地JavaScript变量

## 📁 项目结构

```
what-s-for-lunch/
├── index.html          # 主页面
├── script.js           # 主要逻辑
├── confetti.js         # 礼花动画效果
├── restaurants.js      # SAP餐厅数据
├── food-data.js        # 食物分类数据
├── project.config.json # 项目配置
└── README.md          # 项目说明
```

## 🔧 最新更新

### v1.3.0 - 代码重构与动画优化
- ✅ 代码模块化重构，分离动画逻辑
- ✅ 新增礼花动画效果，增强用户体验
- ✅ 优化动画序列：先爆炸礼花，再食物emoji掉落
- ✅ 防止移动端双击缩放
- ✅ 优化地图导航功能，支持精确坐标导航

### v1.2.0 - 地图导航功能
- ✅ 集成多平台地图导航（高德、百度、腾讯地图）
- ✅ 地址按钮化，点击弹出地图选择弹窗
- ✅ 移动端原生控件体验（底部弹出选择器）
- ✅ 桌面端传统弹窗体验
- ✅ 一键打开地图应用进行导航
- ✅ 地址显示优化，包含位置图标和悬停效果
- ✅ 滚动过程中显示导航提示

### v1.1.0 - 智能筛选与日志功能
- ✅ 新增详细的API数据日志输出
- ✅ 实现智能餐厅筛选逻辑
- ✅ 自动排除咖啡店、奶茶店等非午餐选项
- ✅ 添加POI类型分布分析
- ✅ 提供筛选建议和关键词配置
- ✅ 显示筛选前后餐厅数量对比

### 筛选逻辑
**排除关键词**: 咖啡、奶茶、甜品、蛋糕、面包、饮品、酒吧、夜宵等
**包含关键词**: 餐厅、饭店、食堂、快餐、火锅、烧烤、面馆、粥店等

## 🎨 界面预览

应用提供简洁直观的用户界面：
- 筛选按钮组
- 动态选择区域
- 历史记录显示
- 响应式设计

## 📝 开发说明

### API配置
项目使用高德地图API，需要配置有效的API密钥：
```javascript
const API_KEY = "your_amap_api_key";
```

### 自定义筛选
可以在 `script.js` 中修改筛选关键词：
```javascript
const excludeKeywords = ['咖啡', '奶茶', '甜品', ...];
const includeKeywords = ['餐厅', '饭店', '食堂', ...];
```

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

MIT License

---

**让选择午餐变得简单有趣！** 🎉